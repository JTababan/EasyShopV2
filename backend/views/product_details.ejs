
<div class="ProductDetailsCon">
    <div class="ProductInnerCon">
    <!-- Product Images -->
    
    <div class="ProductDetailsCarouselCon">
        <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner ProductImageCon">
              <div class="carousel-item active">
                <img src="<%= product.imgs[0] %>" class="d-block" alt="...">
              </div>

              <% product.imgs.forEach((img, index) =>{ %>
                    <% if(index > 0) {%>
                        <div class="carousel-item ">
                          <img src="<%= img %>" class="d-block" alt="...">
                        </div>
                    <% } %>
              <% }) %>

            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
              <span class="ViewImgArrow" aria-hidden="true"><i class="bi bi-arrow-left-square"></i></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
              <span class="ViewImgArrow" aria-hidden="true"><i class="bi bi-arrow-right-square"></i></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
    </div>
    
    <!-- Product Info -->
   
    <div class="ProductInfoBox"  >  
        <div class="ProductInfo">
            <div class="mb-1 d-flex flex-column gap-2">
                <h5><%= product.title %></h5>
                <div>
                    
                    <p class="m-0">Rating: <%= product.rating %></p>
                    <p class="m-0">Stocks: <%= product.stock %> </p>
                    <!-- <p class="m-0">Brand:</p> -->
                    
                </div>
                <div style="border: 1px solid lightblue;"></div>
                <div>
                    <%= product.desc %>
                </div>
            </div>
       
            <div>
                <div style="display: flex; gap: 7px;">
                    <p>&#8369; </p> 
                    <h2 id="price" style="margin: 0px;"><%= product.price %></h2>
                    <p style="margin: 0px;"><sup><%= product.discount %>% discount</sup></p>
                </div>
                <h4 style="color: #007600; text-align: start;">In Stock</h4>
            </div>
       </div>
        
        <div class="d-flex gap-1">
            <label for="quantity">Qty:</label>
            <input id="qty_input" type="number" class="QuantityInput w-25  border border-secondary-subtle ps-1" value="1" max="<%= product.stock %>" id="quantity" name="quantity">
        </div>
        

        <form action="/checkout" method="post">
            <div class="d-flex flex-column gap-2 DetailsButtonsCon">
                <input type="hidden" id="productId" name="productId" value="<%= product.id %>">
                <input type="hidden" id="productPrice" name="productPrice" value="<%= product.price %>">
                <input type="hidden" id="productQty" name="productQty" value="1">
                <input type="hidden" id="productTotal" name="total" value="<%= product.price %>">
                <p id="total" class="m-0 DetailsPrice" ><strong>Total:</strong> <i>&#8369; <%= product.price %></i></p>
                <input type="button" id ="add_cart_btn" class="btn DetailsAddCartBut" value="Add Cart">
                <input type="submit" class="btn DetailsBuyBut" value="Buy Now">
            </div>
        </form>
    </div>
</div>
    <!--TODO: Related products -->
    <script src="/js/product.js"></script>
</div>


